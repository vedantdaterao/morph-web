console.log("Content script active:",window.location.href);async function t(){try{const e=window.location.hostname,{enabled:n=!0}=await chrome.storage.sync.get({enabled:!0});if(!n)return;((await chrome.storage.sync.get(e))[e]?.selectors||[]).forEach(o=>{try{document.querySelectorAll(o).forEach(r=>r.remove())}catch(r){console.error(`Invalid selector: ${o}`,r)}})}catch(e){if(e.message?.includes("Extension context invalidated")){console.warn("Extension reloaded â€” ignoring cleanup.");return}console.error("Unexpected error in runHider:",e)}}t();chrome.runtime.onMessage.addListener(e=>{chrome.runtime?.id&&(e.type==="toggleExtension"||e.type==="refreshSelectors")&&t()});const c=new MutationObserver(()=>{t()});document.body&&c.observe(document.body,{childList:!0,subtree:!0});
