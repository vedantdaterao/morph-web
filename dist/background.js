chrome.runtime.onInstalled.addListener(()=>{console.log("Extension installed!")});chrome.runtime.onMessage.addListener((r,n,t)=>{if(r?.type==="fetchHeaders"&&typeof r.url=="string")return(async()=>{try{const e=await fetch(r.url,{method:"GET",credentials:"omit"}),a={};e.headers.forEach((s,o)=>{a[o]=s}),t({ok:!0,status:e.status,headers:a})}catch(e){e instanceof Error?t({ok:!1,error:e.message}):t({ok:!1,error:String(e)})}})(),!0});
